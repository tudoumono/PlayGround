# 実装スケジュール

## 現在の実装状況（2025-10-05時点）
- **共通レイアウト / UI 基盤**: `app/(shell)` のレイアウトと `SidebarNav` を実装し、グローバルテーマやレスポンシブ対応を含む共通スタイルを整備済み。
- **G0 ウェルカム/キー設定**: `/welcome` で API キー接続テスト、保存ポリシー、AES-GCM 暗号化、HTTP/HTTPS プロキシ、追加ヘッダ入力、接続ログ連携を実装。暗号化パスフレーズはセッション揮発保持のみで再入力 UI は未実装。
- **G1 ダッシュボード**: IndexedDB から会話・Vector Store を読み込み、シード投入、検索フィルタ、JSON エクスポート/インポート、OpenAI Vector Store 同期を実装。暗号化済みデータ復号フローは TODO のまま。
- **G3 Vector Store 一覧**: `/vector-stores` にて検索・並び替え・Ingest 画面導線付きのテーブル UI を構築。削除処理や OpenAI API との更新同期は未実装。
- **G3/G4 Vector Store Management (Ingest)**: ドラッグ＆ドロップ対応のアップロード UI、アップロードリスト、疑似プログレスバー、既存ストア読み込みの土台を追加済み。実ファイルアップロード・保存処理は未着手。
- **G4 チャット**: 会話作成/編集/削除、IndexedDB 永続化、Responses API ストリーム連携、Web Search/Vector Search 切替、モデル一覧取得、引用表示の枠組みを実装。Vector Store 選択は ID 入力のみで、添付・要約自動化・暗号化連携は未対応。
- **G5 設定**: G0 と共通の接続編集、暗号化設定、保存ポリシー切替、追加ヘッダ検証、ログ閲覧/コピー/リセットを実装。暗号化パスフレーズ再入力や接続テスト補完は今後対応が必要。
- **共通ユーティリティ**: AES-GCM 暗号化モジュール、追加ヘッダバリデータ、IndexedDB ラッパ、ログストア、OpenAI クライアント生成、Vector Store/API ヘルパーを実装済み。

## 今後の実装予定
1. **暗号化パスフレーズ再入力フローの導入**
   - リロード後でも API キーを復号できるよう、G0/G5/G4 から再入力モーダルを呼び出し `loadConnection` にパスフレーズを渡す仕組みとエラー表示を実装する。

2. **IndexedDB データと暗号化ポリシーの統合**
   - 会話・メッセージ・Vector Store データの保存/復号を保存ポリシーに連動させ、暗号化済み状態でもダッシュボードとチャットで参照できるようにする。

3. **Vector Store CRUD と同期機能の仕上げ**
   - `/vector-stores` と `/ingest` から OpenAI API 経由で作成・更新・削除・メタデータ取得を行い、UI の削除ボタンや進捗表示を実機能に接続する。

4. **ファイル取り込みジョブと openai.Files 連携**
   - ドラッグ＆ドロップされたファイルをアップロードし、ジョブステータスを監視して Vector Store に自動登録する処理とエラーリカバリを実装する。

5. **チャット画面の機能強化（G4）**
   - Vector Store 選択 UI の自動補完、添付ファイル送信、ナレッジ引用の詳細表示、メッセージ要約生成などを拡張し、Responses API のエラー処理と再試行ルールを整備する。

6. **検証とリリース準備**
   - `npm run lint` / `npm run build` のCI化、手動テスト手順の整備、暗号化・保存ポリシーのドキュメント化、配布手順の更新を行う。
