# è£½å“ç¯„å›²ãƒ»å‰æï¼ˆScopeï¼‰

* [ ] **é…å¸ƒå½¢æ…‹**ï¼šé™çš„ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚° or ãƒ­ãƒ¼ã‚«ãƒ«é…å¸ƒï¼ˆBYOKï¼šåˆ©ç”¨è€…è‡ªèº«ã® API ã‚­ãƒ¼å…¥åŠ›ï¼‰ã€‚
* [ ] **æ¨å¥¨API**ï¼šOpenAI **Responses API**ï¼ˆãƒ„ãƒ¼ãƒ«ï¼File Search / Web Searchï¼‰ã€**Vector Stores**ã€**Files**ã€‚([OpenAI Platform][2])
* [ ] **é–‹ç™ºSDK**ï¼š**Vercel AI-SDK**ï¼ˆ`streamText` ã«ã‚ˆã‚‹ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã€`generateObject` ã«ã‚ˆã‚‹æ§‹é€ åŒ–è¦ç´„ï¼‰ã€‚([AI SDK][3])
* [ ] **éæ©Ÿèƒ½**ï¼šCORSã«å‚™ãˆ**Base URL åˆ‡æ›¿ï¼ˆã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤/ãƒ—ãƒ­ã‚­ã‚·ï¼‰**ã‚’è¨­å®šç”»é¢ã§è¨±å¯ã€‚([AI SDK][4])

---

# 0) æ—¢å®šãƒ«ãƒ¼ãƒ«ï¼ˆåˆæ„äº‹é …ï¼‰

* [ ] **Webæ¤œç´¢ãƒˆã‚°ãƒ«ï¼æ—¢å®šOFF**ï¼ˆå¿…è¦æ™‚ã®ã¿ONï¼‰ã€‚Responsesã®**Web Search ãƒ„ãƒ¼ãƒ«**ã‚’ONæ™‚ã®ã¿ä»˜ä¸ã€‚([OpenAI Platform][5])
* [ ] **æ·»ä»˜æ—¢å®š**ï¼šç”»åƒâ†’**ä»Šã ã‘ï¼ˆVisionï¼‰**ï¼æ–‡æ›¸â†’**æ’ä¹…ç™»éŒ²ï¼ˆVector Storeï¼‰**ï¼éŸ³å£°â†’**æ–‡å­—èµ·ã“ã—â†’ä»Šã ã‘**ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä¸Šæ›¸ãå¯ã€‚([OpenAI Platform][2])
* [ ] **Vector Store è¤‡æ•°é¸æŠ**ã¯**æœ€å¤§3ä»¶**ã€‚ä¸‡ä¸€é…åˆ—ã‚µãƒãƒ¼ãƒˆã®æŒ™å‹•å·®ã§ã‚¨ãƒ©ãƒ¼æ™‚ã¯**å…ˆé ­1ä»¶ã¸ç¸®é€€**ã—é€šçŸ¥ã€‚([OpenAI Platform][2])
* [ ] **å±¥æ­´ä¿å­˜ï¼IndexedDB**ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ã®ã¿ï¼‰ï¼‹**JSON ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ/ã‚¤ãƒ³ãƒãƒ¼ãƒˆ**ã€‚([MDNã‚¦ã‚§ãƒ–ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ][6])
* [ ] **é€ä¿¡æœ€é©åŒ–**ï¼š**ç›´è¿‘Kã‚¿ãƒ¼ãƒ³ï¼‹è¦ç´„ï¼ˆ`generateObject`ï¼‰**ã§æ–‡è„ˆæŠ•å…¥ã€‚AI-SDKã®é€æ¬¡ç”Ÿæˆã¯ **`streamText`**ã€‚([AI SDK][7])

---

# 1) ç”»é¢ï¼ˆG0ã€œG5ï¼‰ã¨ä¸»è¦è¦ä»¶

## [G0] ã‚¦ã‚§ãƒ«ã‚«ãƒ /ã‚­ãƒ¼è¨­å®šï¼ˆBYOKï¼‰

* [ ] APIã‚­ãƒ¼å…¥åŠ›ã€**Base URL**ï¼ˆæ—¢å®š `https://api.openai.com/v1`ï¼‰ï¼**è¿½åŠ ãƒ˜ãƒƒãƒ€**ï¼Organizationãƒ»Projectã€‚**æ¥ç¶šãƒ†ã‚¹ãƒˆ**ã§ `/v1/models` ã‚’å©ãã€‚([OpenAI Platform][8])
* [ ] ä¿å­˜ãƒãƒªã‚·ãƒ¼ï¼šã‚­ãƒ¼ã¯ã€Œä¿å­˜ã—ãªã„/ä¸€æ™‚/æ°¸ç¶šã€ã‹ã‚‰é¸æŠã€‚
* [ ] ï¼ˆä»»æ„ï¼‰**æš—å·åŒ–ãƒ‘ã‚¹ãƒ•ãƒ¬ãƒ¼ã‚º**ã‚’å…¥åŠ› â†’ WebCrypto **AES-GCM** ã§å±¥æ­´æœ¬æ–‡ã‚’æš—å·åŒ–ä¿å­˜ã€‚([MDNã‚¦ã‚§ãƒ–ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ][9])
  **AC**ï¼š`GET /v1/models` æˆåŠŸã§ğŸŸ¢ï¼401/403/429/ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯/ CORS å¤±æ•—ã‚’è­˜åˆ¥ã—ã€**ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤Base URL**åˆ‡æ›¿ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹ã‚’å‡ºã™ã€‚([OpenAI Platform][8])

## [G1] ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆä¼šè©±ä¸€è¦§ï¼‹Vector Storeä¸€è¦§ï¼‰

* [ ] ä¼šè©±ä¸€è¦§ï¼ˆIndexedDBï¼‰æ¤œç´¢ãƒ»ã‚¿ã‚°ãƒ»æ›´æ–°é †ã€**JSONã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ/ã‚¤ãƒ³ãƒãƒ¼ãƒˆ**ã€‚([MDNã‚¦ã‚§ãƒ–ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ][6])
* [ ] Vector Store ä¸€è¦§ï¼ˆID/åå‰/ä»¶æ•°/æ›´æ–°æ—¥ï¼‰ã€‚**IDãƒ¯ãƒ³ã‚¯ãƒªã‚³ãƒ”ãƒ¼**ã€‚`GET /v1/vector_stores`ã€‚([OpenAI Platform][10])
  **AC**ï¼šã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆJSONã‚’åŒä¸€PCã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆâ†’ä¼šè©±ãŒå†ç¾ã€‚

## [G2] Vector Store ç®¡ç†

* [ ] ä½œæˆ/å‰Šé™¤/ãƒ¡ã‚¿ç·¨é›†ã€ä¸Šé™ãƒ»çŠ¶æ…‹è¡¨ç¤ºã€‚`POST/DELETE/GET /v1/vector_stores`ã€‚([OpenAI Platform][10])
* [ ] **ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒƒãƒ**ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆ`in_progress/completed/failed`ï¼‰ãŒè¦‹ãˆã‚‹ã€‚`.../file_batches`ã€‚([OpenAI Platform][11])
  **AC**ï¼šä½œæˆâ†’å³IDã‚³ãƒ”ãƒ¼å¯èƒ½ï¼å‰Šé™¤â†’ä¸€è¦§ã‹ã‚‰é™¤å»ã€‚

## [G3] å–ã‚Šè¾¼ã¿ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«â†’Vector Storeï¼‰

* [ ] **Files** ã¸ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼ˆ`purpose=assistants`ï¼‰â†’ Vector Store ã¸ **file_batches** ã§ä¸€æ‹¬ç™»éŒ² â†’ **ãƒãƒ¼ãƒªãƒ³ã‚°**ã€‚([OpenAI Platform][12])
* [ ] PDFã®**ãƒ†ã‚­ã‚¹ãƒˆå±¤æ¤œçŸ¥**â†’ã‚¹ã‚­ãƒ£ãƒ³ãªã‚‰**OCRï¼ˆTesseract.jsï¼‰**ææ¡ˆã€‚([tesseract.projectnaptha.com][13])
* [ ] **ã‚µã‚¤ã‚ºä¸Šé™**ã«å¿œã˜ãŸè­¦å‘Šï¼ˆå‚è€ƒï¼š**1ãƒ•ã‚¡ã‚¤ãƒ«æœ€å¤§ 512MB** ãªã©ã®å®Ÿé‹ç”¨ç›®å®‰ï¼‰ã€‚([OpenAI Help Center][14])
  **AC**ï¼šé€²æ—ãƒãƒ¼ãŒ `file_counts` ã§å¢—æ¸›ã—ã€å¤±æ•—ã¯ãƒªã‚¹ãƒˆåŒ–ãƒ»å†è©¦è¡Œå¯èƒ½ã€‚([OpenAI Platform][11])

## [G4] æ¤œç´¢ï¼†ãƒãƒ£ãƒƒãƒˆï¼ˆRAG/ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«ï¼‰

* [ ] **ãƒ¢ãƒ‡ãƒ«é¸æŠ**ï¼ˆ`/v1/models` çµæœï¼‰ã€**Webæ¤œç´¢ãƒˆã‚°ãƒ«ï¼ˆæ—¢å®šOFFï¼‰**ã€**ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ãƒˆã‚°ãƒ«ï¼ˆæ—¢å®šONï¼‰**ã€**Vector Storeè¤‡æ•°é¸æŠâ‰¤3**ã€‚([OpenAI Platform][8])
* [ ] **æ·»ä»˜ã‚«ãƒ¼ãƒ‰**ï¼šç”»åƒ=ä»Šã ã‘/Visionã€æ–‡æ›¸=ç™»éŒ²ã€éŸ³å£°=æ–‡å­—èµ·ã“ã—â†’ä»Šã ã‘ï¼**ä¸¡æ–¹**ã‚‚å¯ã€‚
* [ ] é€ä¿¡æ™‚ï¼š`POST /v1/responses` ã«

  * `tools`: `[{type:"file_search"}]`ï¼ˆONæ™‚ï¼‰ï¼‹ **Web Search**ï¼ˆONæ™‚ï¼‰
  * `tool_resources.file_search.vector_store_ids=[...]`
  * `input_text` / `input_image` / `input_audio` ã‚’é©å®œåŒæ¢±ï¼ˆãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«ï¼‰ã€‚([OpenAI Platform][2])
* [ ] **å‡ºå…¸ãƒ‘ãƒãƒ«**ï¼š**Vector / Web / æ·»ä»˜** ã‚’ã‚¿ãƒ–åˆ†é›¢ã§è¡¨ç¤ºã€‚
  **AC**ï¼šãƒˆã‚°ãƒ«ON/OFFãŒé€ä¿¡ãƒœãƒ‡ã‚£ã® `tools` ã«åæ˜ ã€‚å¼•ç”¨ãƒ¡ã‚¿ã« Vectorï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ãƒ»æŠœç²‹ï¼‰ã¨ Webï¼ˆURLãƒ»ã‚¿ã‚¤ãƒˆãƒ«ï¼‰ãŒåŒºåˆ¥è¡¨ç¤ºã€‚([OpenAI Platform][5])

## [G5] è¨­å®šï¼ˆãƒ¢ãƒ‡ãƒ«ï¼ãƒ—ãƒ­ã‚­ã‚·ï¼å±¥æ­´ï¼‰

* [ ] **ãƒ¢ãƒ‡ãƒ«ä¸€è¦§**ï¼š`GET /v1/models`ï¼ˆç”¨é€”ãƒ•ã‚£ãƒ«ã‚¿ãƒ»æ¤œç´¢ãƒ»ç›´æ‰“ã¡è¨±å®¹ï¼‰ã€‚([OpenAI Platform][15])
* [ ] **ãƒ—ãƒ­ã‚­ã‚·/ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤**ï¼š**Base URL/è¿½åŠ ãƒ˜ãƒƒãƒ€**ã‚’è¨­å®šã§ãã€**/v1/models** ã§æ¥ç¶šãƒ†ã‚¹ãƒˆã€‚AI-SDKã® **OpenAI Provider** ã¯ `baseURL`/`headers` æŒ‡å®šã«å¯¾å¿œã€‚([AI SDK][4])
* [ ] å±¥æ­´ã®**JSONã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ/ã‚¤ãƒ³ãƒãƒ¼ãƒˆ**ã€ï¼ˆä»»æ„ï¼‰**AES-GCM**æš—å·åŒ–ON/OFFã€‚([MDNã‚¦ã‚§ãƒ–ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ][9])
  **AC**ï¼šBase URL ã‚’åˆ‡ã‚Šæ›¿ãˆã¦ã‚‚ä¸€è¦§å–å¾—ãƒ»é€ä¿¡ãŒæˆåŠŸã€‚

---

# 2) æ·»ä»˜ã‚«ãƒ¼ãƒ‰UIï¼ˆæŠœç²‹ï¼šé‡è¦ãƒã‚§ãƒƒã‚¯ï¼‰

* [ ] **æ¨å¥¨ãƒ«ãƒ¼ãƒˆ**è‡ªå‹•è¡¨ç¤ºï¼ˆç”»åƒâ†’ä»Šã ã‘ã€æ–‡æ›¸â†’ç™»éŒ²ã€éŸ³å£°â†’èµ·ã“ã—â†’ä»Šã ã‘ï¼ä¸Šæ›¸ãå¯ï¼‰ã€‚([OpenAI Platform][2])
* [ ] **ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°é¸æŠï¼ˆå¿…é ˆï¼‰**ï¼šä»Šã ã‘ï¼æ’ä¹…ç™»éŒ²ï¼ä¸¡æ–¹ã€‚
* [ ] **Vector Store é¸æŠ**ï¼šè¤‡æ•°å¯ï¼ˆæœ€å¤§3ï¼‰ãƒ»IDã‚³ãƒ”ãƒ¼ãƒ»æ¤œç´¢ã€‚é€ä¿¡ã¯ `vector_store_ids: string[]`ã€‚([OpenAI Platform][2])
* [ ] **OCRææ¡ˆï¼ˆPDFã‚¹ã‚­ãƒ£ãƒ³æ¤œçŸ¥ï¼‰**ï¼šONæ™‚ã¯OCRã—ã¦ç™»éŒ²ã€‚([tesseract.projectnaptha.com][13])
* [ ] **é€²æ—**ï¼šFilesã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰â†’file_batchesç™»éŒ²â†’**`status`/`file_counts`**ã§å¯è¦–åŒ–ã€‚([OpenAI Platform][12])
* [ ] **åˆ¶ç´„**ï¼š512MBè¶…ã¯åˆ†å‰²/è¦ç´„ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚’æç¤ºã€‚([OpenAI Help Center][14])
* [ ] **ç¸®é€€**ï¼švector_store_ids é…åˆ—ã§ã‚¨ãƒ©ãƒ¼æ™‚ã¯å…ˆé ­1ä»¶ã¸è‡ªå‹•ç¸®é€€ï¼‹é€šçŸ¥ã€‚([OpenAI ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£][16])

---

# 3) å±¥æ­´ã¨é€ä¿¡æœ€é©åŒ–

* [ ] **ä¿å­˜ï¼IndexedDB**ï¼ˆå¤§å®¹é‡ãƒ»éåŒæœŸãƒ»æ¤œç´¢å‘ãï¼‰ã€‚Web Storage ã¯è¨­å®šç­‰ã®è»½é‡å€¤ã«é™å®šã€‚([MDNã‚¦ã‚§ãƒ–ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ][6])
* [ ] **æš—å·åŒ–ï¼ˆä»»æ„ï¼‰**ï¼šWebCrypto **AES-GCM**ï¼ˆéµå°å‡ºã¯ PBKDF2 ç­‰ï¼‰ã§æœ¬æ–‡ã‚’ä¿è­·ã€‚([MDNã‚¦ã‚§ãƒ–ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ][9])
* [ ] **é€ä¿¡ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦**ï¼šç›´è¿‘Kã‚¿ãƒ¼ãƒ³ï¼‹**`generateObject`è¦ç´„**ã‚’ 1 ãƒ–ãƒ­ãƒƒã‚¯ã¨ã—ã¦å‰ç½®ã€‚([AI SDK][7])
* [ ] **æç”»**ï¼š`streamText` ã§é€æ¬¡è¡¨ç¤ºã€‚([AI SDK][3])
  **AC**ï¼šé•·å°ºä¼šè©±ã§ã‚‚å¿œç­”é…å»¶ãƒ»ã‚³ã‚¹ãƒˆãŒå®‰å®šï¼ˆãƒˆãƒ¼ã‚¯ãƒ³ä¸Šé™å†…ã«åã¾ã‚‹ï¼‰ã€‚

---

# 4) ã‚³ã‚¹ãƒˆã¨ä¸Šé™ã®æ‰±ã„ï¼ˆè¡¨ç¤ºãƒ»è­¦å‘Šï¼‰

* [ ] **File Search**ï¼š**ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ $0.10/GB/æ—¥ï¼ˆæœ€åˆã®1GBç„¡æ–™ï¼‰**ã€**ãƒ„ãƒ¼ãƒ«ã‚³ãƒ¼ãƒ« $2.50/1k**ï¼ˆResponsesã®ã¿ï¼‰ã€‚UI ã§æ¦‚ç®—/æ³¨æ„ã‚’æç¤ºã€‚([OpenAI][17])
* [ ] ï¼ˆå‚è€ƒï¼‰**ãƒ•ã‚¡ã‚¤ãƒ«ä¸Šé™**ï¼šä¸€èˆ¬ã«**512MB/ãƒ•ã‚¡ã‚¤ãƒ«**ã‚„**5Mãƒˆãƒ¼ã‚¯ãƒ³/ãƒ•ã‚¡ã‚¤ãƒ«**ç­‰ã®ç›®å®‰ãŒå‘¨çŸ¥ã€‚ãƒ˜ãƒ«ãƒ—/ã‚¯ãƒ©ã‚¦ãƒ‰å„ç¤¾ã®ã‚¬ã‚¤ãƒ‰ã‚‚å‚ç…§ï¼ˆç’°å¢ƒå·®ã‚ã‚Šï¼‰ã€‚([OpenAI Help Center][14])
* [ ] **Webæ¤œç´¢**ã¯ãƒ„ãƒ¼ãƒ«ã‚³ãƒ¼ãƒ«èª²é‡‘ãƒ¬ãƒ³ã‚¸ã‚ã‚Šï¼ˆãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼/é€šå¸¸ï¼‰ã€‚å¿…è¦æ™‚ã®ã¿ONã‚’æ¨å¥¨ã€‚([OpenAI][17])
  **AC**ï¼šå–ã‚Šè¾¼ã¿ãƒ»æ¤œç´¢æ™‚ã«**è²»ç”¨ã®ç›®å®‰**ã‚’UIã§è¦‹ã›ã‚‹ã€‚

---

# 5) ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯

* [ ] **CORS/ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯**ï¼š`/v1/models` å¤±æ•—ã§**Base URL åˆ‡æ›¿**ï¼ˆã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ï¼‰ã‚’ã‚¬ã‚¤ãƒ‰ã€‚([Cloudflare Docs][18])
* [ ] **ãƒ™ã‚¯ãƒˆãƒ«ç™»éŒ²å¤±æ•—**ï¼šå†è©¦è¡Œã€åˆ†å‰²/è¦ç´„ã€OCRçµŒç”±ãªã©ã®ä»£æ›¿ãƒ«ãƒ¼ãƒˆã‚’æç¤ºã€‚([OpenAI Platform][11])
* [ ] **è¤‡æ•°Vector Store**ï¼ˆç¨€ãªæŒ™å‹•å·®ï¼‰ï¼šé€ä¿¡æ™‚ã«**è‡ªå‹•ç¸®é€€**ï¼‹ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ã€‚([OpenAI ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£][16])
* [ ] **Webæ¤œç´¢ãƒã‚¤ã‚º**ï¼šæ—¢å®šOFFã€ONæ™‚ã¯**å‡ºå…¸åˆ†é›¢**ã§å¯è¦³æ¸¬åŒ–ã€‚([OpenAI Platform][5])

---

# 6) ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£/ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼

* [ ] **ãƒ­ãƒ¼ã‚«ãƒ«ä¿å­˜ã®ã¿**ï¼ˆæ—¢å®šï¼‰ã€‚ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã¯**æ‰‹å‹•**ã€æš—å·åŒ–ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€‚([MDNã‚¦ã‚§ãƒ–ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ][6])
* [ ] APIã‚­ãƒ¼ã¯ä¿å­˜ã—ãªã„ï¼ˆã¾ãŸã¯ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ã¿ï¼‰ã€‚
* [ ] **WebCrypto AES-GCM**ã®å®Ÿè£…ï¼ˆIV/ã‚¿ã‚°ã®é©åˆ‡ãªä¿ç®¡ãƒ»å¾©å·æ‰‹é †ï¼‰ã€‚([MDNã‚¦ã‚§ãƒ–ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ][19])

---

# 7) å—ã‘å…¥ã‚ŒåŸºæº–ï¼ˆç·åˆï¼‰

* [ ] **ã™ã¹ã¦ã®ç”»é¢**ã§ `/v1/models` ãŒæˆåŠŸï¼ˆç›´ãƒ»ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤åˆ‡æ›¿åŒæ–¹ï¼‰ã€‚([OpenAI Platform][8])
* [ ] **Vectorç™»éŒ²**ï¼šFilesâ†’file_batchesâ†’ãƒãƒ¼ãƒªãƒ³ã‚°â†’`completed/failed` ãŒUIã§è¿½ãˆã‚‹ã€‚([OpenAI Platform][12])
* [ ] **ãƒãƒ£ãƒƒãƒˆé€ä¿¡**ï¼š`tools` ã« file_search / web_search ãŒãƒˆã‚°ãƒ«é€šã‚Šå…¥ã‚Šã€`vector_store_ids` ãŒé…åˆ—ã§é€ã‚‰ã‚Œã‚‹ï¼ˆå¤±æ•—æ™‚ã¯ç¸®é€€ï¼‰ã€‚([OpenAI Platform][2])
* [ ] **å±¥æ­´**ï¼šIndexedDB ã‹ã‚‰å¾©å…ƒï¼JSONã‚¤ãƒ³ãƒãƒ¼ãƒˆã§å†ç¾ã€‚([MDNã‚¦ã‚§ãƒ–ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ][20])
* [ ] **è¦ç´„**ï¼š`generateObject` ã§æ§‹é€ åŒ–è¦ç´„ã‚’ç”Ÿæˆã—ã€é•·ä¼šè©±ã§ã‚‚å®‰å®šå¿œç­”ã€‚([AI SDK][7])
* [ ] **ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°è¡¨ç¤º**ï¼š`streamText` ã«ã‚ˆã‚Šé€”åˆ‡ã‚Œãªãåæ˜ ã€‚([AI SDK][3])

---

# 8) å‚è€ƒãƒªãƒ³ã‚¯ï¼ˆä¸»è¦ä¸€æ¬¡æƒ…å ±ï¼‰

* **AI-SDK**ï¼š`streamText`ï¼ç”Ÿæˆãƒ†ã‚­ã‚¹ãƒˆã€`generateObject`ï¼æ§‹é€ åŒ–å‡ºåŠ›ã€Provider/`baseURL` ç®¡ç†ã€‚([AI SDK][3])
* **OpenAI**ï¼šResponses APIã€Web Search ãƒ„ãƒ¼ãƒ«ã€File Searchï¼ˆVector Stores / file_batches / Files / Modelsï¼‰ã€‚([OpenAI Platform][2])
* **IndexedDB**ï¼ˆMDNï¼‰ï¼**WebCrypto AES-GCM**ï¼ˆMDNï¼‰ã€‚([MDNã‚¦ã‚§ãƒ–ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ][6])
* **OCRï¼ˆTesseract.jsï¼‰**ã€‚([tesseract.projectnaptha.com][13])
* **File Search æ–™é‡‘**ï¼ˆå…¬å¼ï¼‰ã€‚([OpenAI][17])
* **è¤‡æ•° Vector Store ã®æŒ™å‹•å·®ï¼ˆã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£å ±å‘Šï¼‰**ã€‚([OpenAI ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£][16])

---

## ä»˜éŒ²Aï¼šCSVç‰ˆï¼ˆé€²æ—ç®¡ç†ç”¨ã«ãã®ã¾ã¾è¡¨è¨ˆç®—ã¸è²¼ã‚Šä»˜ã‘ï¼‰

```
ã‚»ã‚¯ã‚·ãƒ§ãƒ³,é …ç›®,å¿…é ˆ,æ—¢å®š/æ¡ä»¶,ç¢ºèªæ–¹æ³•/AC,å‡ºå…¸
Scope,Responses+Vector+Filesæ¡ç”¨,Yes,OpenAIå…¬å¼,ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆåˆ°é”æ€§ã¨ã‚µãƒ³ãƒ—ãƒ«å®Ÿè¡Œ,:contentReference[oaicite:57]{index=57}
0)æ—¢å®š,Webæ¤œç´¢ãƒˆã‚°ãƒ«æ—¢å®šOFF,Yes,å¿…è¦æ™‚ã®ã¿ON,é€ä¿¡æ™‚toolsã«Web SearchãŒå«ã¾ã‚Œãªã„(ONã§å«ã‚€),:contentReference[oaicite:58]{index=58}
0)æ—¢å®š,æ·»ä»˜ã®æ—¢å®šãƒ«ãƒ¼ãƒˆ,Yes,ç”»åƒ=ä»Šã ã‘/æ–‡æ›¸=ç™»éŒ²/éŸ³å£°=èµ·ã“ã—â†’ä»Šã ã‘,åˆæœŸææ¡ˆã¨ä¸Šæ›¸ãåæ˜ ,:contentReference[oaicite:59]{index=59}
0)æ—¢å®š,Vector Storeè¤‡æ•°â‰¤3ã‹ã¤ç¸®é€€,Yes,>3ã¯ä¸å¯/å¤±æ•—â†’å…ˆé ­1ä»¶,é€ä¿¡æ™‚ã®vector_store_idsã¨ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°,:contentReference[oaicite:60]{index=60}
G0,ãƒ¢ãƒ‡ãƒ«ä¸€è¦§/æ¥ç¶šãƒ†ã‚¹ãƒˆ,Yes,/v1/models,æˆåŠŸğŸŸ¢/å¤±æ•—ã‚³ãƒ¼ãƒ‰åˆ¥è¡¨ç¤º,:contentReference[oaicite:61]{index=61}
G0,ãƒ—ãƒ­ã‚­ã‚·(Base URL)åˆ‡æ›¿,Yes,ä»»æ„ãƒ˜ãƒƒãƒ€,BaseURLå¤‰æ›´å¾Œã‚‚ä¸€è¦§å–å¾—OK,:contentReference[oaicite:62]{index=62}
G0,å±¥æ­´æš—å·åŒ–(ä»»æ„),No,AES-GCM,ãƒ­ãƒƒã‚¯/å¾©å·å‹•ä½œ,:contentReference[oaicite:63]{index=63}
G1,ä¼šè©±ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ/ã‚¤ãƒ³ãƒãƒ¼ãƒˆ,Yes,JSON,åŒä¸€PCã§å†ç¾,:contentReference[oaicite:64]{index=64}
G1,Vector Storeä¸€è¦§è¡¨ç¤º,Yes,GET /v1/vector_stores,IDã‚³ãƒ”ãƒ¼/å†å–å¾—OK,:contentReference[oaicite:65]{index=65}
G2,Vector Storeä½œæˆ/å‰Šé™¤,Yes,POST/DELETE,ä¸€è¦§ã«å³åæ˜ ,:contentReference[oaicite:66]{index=66}
G2,ãƒãƒƒãƒé€²æ—å¯è¦–åŒ–,Yes,file_batchesãƒãƒ¼ãƒªãƒ³ã‚°,status/file_countsè¡¨ç¤º,:contentReference[oaicite:67]{index=67}
G3,Filesâ†’ç™»éŒ²,Yes,Filesâ†’file_batches,ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰â†’ç™»éŒ²â†’å®Œäº†/å¤±æ•—é·ç§»,:contentReference[oaicite:68]{index=68}
G3,OCRææ¡ˆ(ã‚¹ã‚­ãƒ£ãƒ³PDF),No,Tesseract.js,ONã§OCRå¾Œã«ç™»éŒ²,:contentReference[oaicite:69]{index=69}
G3,ã‚µã‚¤ã‚ºè¶…éã‚¬ãƒ¼ãƒ‰,Yes,~512MB/ãƒ•ã‚¡ã‚¤ãƒ«ç›®å®‰,è­¦å‘Šã¨åˆ†å‰²/è¦ç´„æ¡ˆå†…,:contentReference[oaicite:70]{index=70}
G4,ãƒˆã‚°ãƒ«/ãƒ¢ãƒ‡ãƒ«é¸æŠ,Yes,Web/Vector/ãƒ¢ãƒ‡ãƒ«,toolsã¨vector_store_idsåæ˜ ,:contentReference[oaicite:71]{index=71}
G4,ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«å…¥åŠ›,Yes,input_text/image/audio,é©åˆ‡ã«åŒæ¢±,:contentReference[oaicite:72]{index=72}
G4,å‡ºå…¸ãƒ‘ãƒãƒ«åˆ†é›¢,Yes,Vector/Web/æ·»ä»˜,å¼•ç”¨ã®åŒºåˆ¥è¡¨ç¤º,:contentReference[oaicite:73]{index=73}
G5,Base URL/è¿½åŠ ãƒ˜ãƒƒãƒ€è¨­å®š,Yes,ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤äº’æ›,æ¥ç¶šãƒ†ã‚¹ãƒˆæˆåŠŸ,:contentReference[oaicite:74]{index=74}
å±¥æ­´,IndexedDBä¿å­˜,Yes,ãƒ­ãƒ¼ã‚«ãƒ«é™å®š,å†èª­è¾¼ã§å¾©å…ƒ,:contentReference[oaicite:75]{index=75}
å±¥æ­´,JSONã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ/å¾©å…ƒ,Yes,æš—å·åŒ–æ™‚ã¯è¦ãƒ‘ã‚¹,å¾©å…ƒæˆåŠŸ,:contentReference[oaicite:76]{index=76}
é€ä¿¡æœ€é©åŒ–,ç›´è¿‘K+è¦ç´„,Yes,generateObjectã§ä½œæˆ,ç·ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†,:contentReference[oaicite:77]{index=77}
é€ä¿¡æœ€é©åŒ–,ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°è¡¨ç¤º,Yes,streamText,æ½¤æ»‘ãªé€æ¬¡æç”»,:contentReference[oaicite:78]{index=78}
ã‚³ã‚¹ãƒˆ,File Searchæ–™é‡‘è¡¨ç¤º,Yes,$0.10/GB/æ—¥ & $2.50/1k,UIã§æ¦‚ç®—è¡¨ç¤º,:contentReference[oaicite:79]{index=79}
ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯,CORS/æ¥ç¶šå¤±æ•—æ™‚,Yes,BaseURLåˆ‡æ›¿æ¡ˆå†…,ãƒ†ã‚¹ãƒˆâ†’å¾©æ—§,:contentReference[oaicite:80]{index=80}
ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯,vector_store_idsé…åˆ—èª¤ä½œå‹•,Yes,è‡ªå‹•ç¸®é€€,ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥,:contentReference[oaicite:81]{index=81}
```


[1]: https://ai-sdk.dev/docs/introduction?utm_source=chatgpt.com "AI SDK by Vercel"
[2]: https://platform.openai.com/docs/api-reference/responses?utm_source=chatgpt.com "Responses API reference"
[3]: https://ai-sdk.dev/docs/reference/ai-sdk-core/stream-text?utm_source=chatgpt.com "AI SDK Core: streamText"
[4]: https://ai-sdk.dev/providers/ai-sdk-providers/openai?utm_source=chatgpt.com "OpenAI provider - AI SDK"
[5]: https://platform.openai.com/docs/guides/tools-web-search?api-mode=responses&utm_source=chatgpt.com "Enable web search with Responses API"
[6]: https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API?utm_source=chatgpt.com "IndexedDB API - Web - MDN - Mozilla"
[7]: https://ai-sdk.dev/docs/reference/ai-sdk-core/generate-object?utm_source=chatgpt.com "AI SDK Core: generateObject"
[8]: https://platform.openai.com/docs/api-reference/models?utm_source=chatgpt.com "api-reference/models"
[9]: https://developer.mozilla.org/en-US/docs/Web/API/Web_Crypto_API?utm_source=chatgpt.com "Web Crypto API - MDN"
[10]: https://platform.openai.com/docs/api-reference/vector-stores?utm_source=chatgpt.com "OpenAI API Reference - Vector Stores"
[11]: https://platform.openai.com/docs/api-reference/vector-stores-file-batches?utm_source=chatgpt.com "Vector store file batches"
[12]: https://platform.openai.com/docs/api-reference/files?utm_source=chatgpt.com "OpenAI's Files API reference"
[13]: https://tesseract.projectnaptha.com/?utm_source=chatgpt.com "Tesseract.js | Pure Javascript OCR for 100 Languages!"
[14]: https://help.openai.com/en/articles/8555545-file-uploads-faq?utm_source=chatgpt.com "File Uploads FAQ"
[15]: https://platform.openai.com/docs/api-reference/models/list?utm_source=chatgpt.com "List models API"
[16]: https://community.openai.com/t/bug-or-wrong-documentation-responses-api-vector-store-ids-array-limited-to-one/1165564?utm_source=chatgpt.com "Responses api vector_store_ids array limited to one - ..."
[17]: https://openai.com/api/pricing/?utm_source=chatgpt.com "API Pricing"
[18]: https://developers.cloudflare.com/ai-gateway/integrations/vercel-ai-sdk/?utm_source=chatgpt.com "Vercel AI SDK Â· Cloudflare AI Gateway docs"
[19]: https://developer.mozilla.org/en-US/docs/Web/API/AesGcmParams?utm_source=chatgpt.com "AesGcmParams - Web APIs | MDN - Mozilla"
[20]: https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API/Using_IndexedDB?utm_source=chatgpt.com "Using IndexedDB - Web APIs | MDN - Mozilla"



# 1) ç”»é¢é·ç§»å›³ï¼ˆé«˜ãƒ¬ãƒ™ãƒ« IAï¼‰

```
[G0] ã‚¦ã‚§ãƒ«ã‚«ãƒ /ã‚­ãƒ¼è¨­å®š
   â””â†’ [G1] ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆä¼šè©±ä¸€è¦§ï¼‹Vector Storeä¸€è¦§ï¼‰
          â”œâ†’ [G2] Vector Storeç®¡ç†ï¼ˆä½œæˆ/å‰Šé™¤/IDã‚³ãƒ”ãƒ¼ï¼‰
          â”œâ†’ [G3] å–ã‚Šè¾¼ã¿ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«â†’Filesâ†’Vector Storeãƒãƒƒãƒï¼‰
          â”œâ†’ [G4] æ¤œç´¢&ãƒãƒ£ãƒƒãƒˆï¼ˆå±¥æ­´ãƒ»æ·»ä»˜ã‚«ãƒ¼ãƒ‰ãƒ»RAG/Webåˆ‡æ›¿ï¼‰
          â””â†’ [G5] è¨­å®šï¼ˆãƒ¢ãƒ‡ãƒ«ä¸€è¦§/ãƒ—ãƒ­ã‚­ã‚·/æš—å·åŒ–/ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼‰
```

* **IndexedDB** ã«å±¥æ­´ã¨è¨­å®šã‚’ä¿å­˜ï¼ˆWeb Storage ã¯è»½é‡è¨­å®šã®ã¿ï¼‰ã€‚å¤§å®¹é‡ã‚„æ¤œç´¢å‘ãã« IndexedDB ã‚’é¸ã¶ã®ãŒæ¨™æº–çš„ã§ã™ã€‚([MDNã‚¦ã‚§ãƒ–ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ][2])
* **OpenAI å´ API** ã¯ **Filesï¼Vector Storesï¼ˆãƒãƒƒãƒç™»éŒ²ãƒ»é€²æ—ï¼‰ï¼Responsesï¼ˆfile_search, web_search ãƒ„ãƒ¼ãƒ«ï¼‰**ã‚’åˆ©ç”¨ã—ã¾ã™ã€‚([OpenAI Platform][3])

---

# 2) ç”»é¢åˆ¥ï¼šå®Ÿè£…å†…å®¹ï¼ˆæ©Ÿèƒ½ï¼APIï¼çŠ¶æ…‹ï¼æ¤œè¨¼ï¼‰

## [G0] ã‚¦ã‚§ãƒ«ã‚«ãƒ  & ã‚­ãƒ¼è¨­å®šï¼ˆBYOKï¼‰

**ç›®çš„**ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼è‡ªèº«ã® API ã‚­ãƒ¼å…¥åŠ›ãƒ»æ¥ç¶šãƒ†ã‚¹ãƒˆãƒ»ï¼ˆä»»æ„ï¼‰æš—å·åŒ–ãƒ‘ã‚¹ãƒ•ãƒ¬ãƒ¼ã‚ºè¨­å®š
**UI**ï¼šAPIã‚­ãƒ¼å…¥åŠ›ã€Base URLï¼ˆæ¨™æº– `https://api.openai.com/v1`ï¼ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤åˆ‡æ›¿å¯ï¼‰ã€Organization/Projectã€æ¥ç¶šãƒ†ã‚¹ãƒˆã€ä¿å­˜ãƒãƒªã‚·ãƒ¼ï¼ˆæœªä¿å­˜/ä¸€æ™‚/æ°¸ç¶šï¼‰

* **API/å®Ÿè£…**

  * æ¥ç¶šãƒ†ã‚¹ãƒˆï¼š`GET /v1/models` ã‚’å©ãã€èªè¨¼ãƒ»CORSãƒ»æ¨©é™ã‚’å³åˆ¤å®šã€‚([OpenAI Platform][4])
  * ä¿å­˜å…ˆï¼šAPIã‚­ãƒ¼ã¯æ—¢å®šã§**ä¿å­˜ã—ãªã„**ã‹ **sessionStorage**ã€å±¥æ­´ã‚„è¨­å®šã¯ **IndexedDB**ã€‚([MDNã‚¦ã‚§ãƒ–ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ][2])
  * ï¼ˆä»»æ„ï¼‰**WebCrypto AES-GCM**ã§å±¥æ­´ã‚’æš—å·åŒ–ä¿å­˜ã™ã‚‹ãŸã‚ã®ãƒ‘ã‚¹ãƒ•ãƒ¬ãƒ¼ã‚ºå…¥åŠ›ã€‚([MDNã‚¦ã‚§ãƒ–ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ][5])
* **æ¤œè¨¼**ï¼šæˆåŠŸæ™‚ã¯ãƒ¢ãƒ‡ãƒ«ä¸€è¦§å–å¾—OKï¼å¤±æ•—æ™‚ã¯ 401/403/429 ã‚’è¡¨ç¤ºã€CORS å¤±æ•—ã¯ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ã«åˆ‡æ›¿æ¡ˆå†…ã€‚

---

## [G1] ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰

**ç›®çš„**ï¼šä¼šè©±ã®èµ·ç‚¹ã€‚**ä¼šè©±ä¸€è¦§ï¼ˆIndexedDBï¼‰**ã¨**Vector Store ä¸€è¦§ï¼ˆOpenAIï¼‰**ã‚’ä¿¯ç°

* **æ©Ÿèƒ½**

  * ä¼šè©±ä¸€è¦§ï¼ˆæ¤œç´¢ãƒ»ã‚¿ã‚°ãƒ»æ›´æ–°é †ï¼‰ï¼æ–°è¦ä½œæˆï¼è¤‡è£½ï¼å‰Šé™¤ï¼**JSONã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ/ã‚¤ãƒ³ãƒãƒ¼ãƒˆ**
  * Vector Store ä¸€è¦§ï¼ˆ`id/name/file_counts/updated_at`ï¼‰è¡¨ç¤ºã€**IDãƒ¯ãƒ³ã‚¯ãƒªã‚³ãƒ”ãƒ¼**
* **API**

  * Vector Stores ä¸€è¦§ï¼š`GET /v1/vector_stores`ï¼ˆå¿…è¦ã«å¿œã˜ãƒšãƒ¼ã‚¸ãƒ³ã‚°ï¼‰([OpenAI Platform][6])
* **çŠ¶æ…‹**

  * `conversations[]`ï¼ˆIndexedDBï¼‰ã€`vectorStores[]`ï¼ˆãƒ¡ãƒ¢ãƒªï¼‹å†å–å¾—ãƒœã‚¿ãƒ³ï¼‰
* **æ¤œè¨¼**ï¼šã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆJSONãŒä»–ç«¯æœ«ã§**ã‚¤ãƒ³ãƒãƒ¼ãƒˆâ†’å†ç¾**ã§ãã‚‹ã“ã¨ï¼ˆåŒä¸€PCå‰æãƒ»æš—å·åŒ–æ™‚ã¯ãƒ‘ã‚¹è¦ï¼‰ã€‚

---

## [G2] Vector Store ç®¡ç†

**ç›®çš„**ï¼š**ä½œæˆï¼å‰Šé™¤ï¼ãƒ¡ã‚¿ç·¨é›†ï¼IDã‚³ãƒ”ãƒ¼**

* **API**

  * ä½œæˆï¼š`POST /v1/vector_stores`ã€å‰Šé™¤ï¼š`DELETE /v1/vector_stores/{id}`ã€è©³ç´°ï¼š`GET /v1/vector_stores/{id}`ã€‚([OpenAI Platform][6])
* **æ³¨æ„**

  * **è¤‡æ•°ã‚¹ãƒˆã‚¢åŒæ™‚åˆ©ç”¨**ï¼šResponses `file_search` ã«ã¯ **`vector_store_ids: string[]`** ã‚’æ¸¡ã›ã‚‹æƒ³å®šã€‚ãŸã ã—ä¸€éƒ¨ç’°å¢ƒã§é…åˆ—ãŒ1ä»¶æ‰±ã„ã«ãªã‚‹å ±å‘ŠãŒã‚ã‚‹ãŸã‚ã€**é€ä¿¡æ™‚ã«è‡ªå‹•ç¸®é€€ï¼ˆå…ˆé ­1ä»¶ï¼‰**ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’å®Ÿè£…ã€‚([OpenAI ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£][7])

---

## [G3] å–ã‚Šè¾¼ã¿ï¼ˆã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰â†’ãƒãƒƒãƒç™»éŒ²â†’é€²æ—ï¼‰

**ç›®çš„**ï¼šPDF/Doc/TXT ç­‰ã‚’ **Files â†’ Vector Store** ã«ç™»éŒ²ã—ã€**é€²æ—ã‚’å¯è¦–åŒ–**

* **API**

  * ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼š`POST /v1/files`ï¼ˆ`purpose=assistants` å¿…é ˆï¼‰([OpenAI Platform][3])
  * ãƒãƒƒãƒç™»éŒ²ï¼š`POST /v1/vector_stores/{id}/file_batches`ã€ãƒãƒ¼ãƒªãƒ³ã‚°ï¼š`GET /v1/vector_stores/{id}/file_batches/{batch_id}`ï¼ˆ`status`/`file_counts`ï¼‰ã€‚([OpenAI Platform][6])
* **UI/çŠ¶æ…‹**

  * **æ·»ä»˜ã‚«ãƒ¼ãƒ‰**ï¼ˆç¨®åˆ¥æ¨å®šãƒ»ã€Œä»Šã ã‘/æ’ä¹…/ä¸¡æ–¹ã€ãƒ»OCRææ¡ˆãƒ»Vector Store è¤‡æ•°é¸æŠâ‰¦3ï¼‰
  * é€²æ—ãƒãƒ¼ï¼ˆ`in_progress â†’ completed/failed`ã€å¤±æ•—ãƒªã‚¹ãƒˆå†è©¦è¡Œï¼‰
* **æ¤œè¨¼**ï¼šå¤§å®¹é‡/å¤šæ•°ãƒ•ã‚¡ã‚¤ãƒ«ã§**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã¨ä»¶æ•°**ãŒæ­£ã—ãé·ç§»ã™ã‚‹ã“ã¨ã€‚

---

## [G4] æ¤œç´¢ & ãƒãƒ£ãƒƒãƒˆï¼ˆRAG/ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«ï¼‰

**ç›®çš„**ï¼šRAGï¼‹Webæ¤œç´¢ã‚’**ãƒˆã‚°ãƒ«**ã§åˆ¶å¾¡ã—ã€**ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°è¡¨ç¤º**ã—ãªãŒã‚‰**å±¥æ­´æœ€é©åŒ–**ã§é€ä¿¡é‡ã‚’æŠ‘åˆ¶

* **UI**

  * ãƒ¢ãƒ‡ãƒ«é¸æŠï¼ˆ/v1/models ã®çµæœï¼‰ï¼**Webæ¤œç´¢ãƒˆã‚°ãƒ«ï¼ˆæ—¢å®šOFFï¼‰**ï¼**ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ãƒˆã‚°ãƒ«ï¼ˆæ—¢å®šONï¼‰**
  * Vector Store è¤‡æ•°é¸æŠï¼ˆæœ€å¤§3ï¼‰ï¼**æ·»ä»˜ã‚«ãƒ¼ãƒ‰**ï¼ˆç”»åƒ=ä»Šã ã‘/Visionã€æ–‡æ›¸=ç™»éŒ²ã€éŸ³å£°=æ–‡å­—èµ·ã“ã—â†’ä»Šã ã‘ï¼‰
  * å‡ºå…¸ãƒ‘ãƒãƒ«ï¼ˆ**Vector / Web / æ·»ä»˜** ã®ã‚¿ãƒ–ï¼‰
* **API**

  * é€ä¿¡ï¼š`POST /v1/responses`

    * `tools`: `[{type: "file_search"}]`ï¼ˆONæ™‚ï¼‰ã¨ **Web Search ãƒ„ãƒ¼ãƒ«**ï¼ˆONæ™‚ï¼‰ã‚’é…åˆ—ã«å«ã‚ã‚‹ã€‚
    * `tool_resources.file_search.vector_store_ids = [é¸æŠIDâ€¦]`ã€‚([OpenAI Platform][8])
  * **ãƒ†ã‚­ã‚¹ãƒˆ/ç”»åƒ/éŸ³å£°**ã¯ **Responses ã®ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«å…¥åŠ›**ï¼ˆ`input_text` / `input_image` / `input_audio`ï¼‰ã¨ã—ã¦åŒæ¢±ã€‚([OpenAI Platform][4])
* **AI-SDK**

  * **`streamText`**ã§å›ç­”ã‚’ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°æç”»ï¼ˆãƒ„ãƒ¼ãƒ«ã‚³ãƒ¼ãƒ«ã‚‚å¤šæ®µã§å‡¦ç†å¯ï¼‰ã€‚([AI SDK][1])
  * **`generateObject`**ã§ã€Œè¦ç‚¹3è¡Œã€ã€ŒFAQ JSONã€ãªã©ã®**æ§‹é€ åŒ–å‡ºåŠ›**ï¼ˆUIéƒ¨å“ã«ç›´çµï¼‰ã€‚([AI SDK][9])
* **æ¤œè¨¼**

  * Web/Vector ãƒˆã‚°ãƒ«ã®ON/OFFãŒ **`tools` é…åˆ—**ã¸æ­£ã—ãåæ˜ ã€‚
  * **å¼•ç”¨è¡¨ç¤º**ã« Vectorï¼ˆãƒ•ã‚¡ã‚¤ãƒ«å/ã‚¹ãƒ‹ãƒšãƒƒãƒˆï¼‰ã¨ Webï¼ˆURL/ã‚¿ã‚¤ãƒˆãƒ«ï¼‰ãŒåŒºåˆ¥è¡¨ç¤ºã•ã‚Œã‚‹ã€‚

---

## [G5] è¨­å®šï¼ˆãƒ¢ãƒ‡ãƒ«ï¼ãƒ—ãƒ­ã‚­ã‚·ï¼å±¥æ­´ï¼‰

**ç›®çš„**ï¼š**ãƒ¢ãƒ‡ãƒ«é¸æŠ**ã€**API ãƒ™ãƒ¼ã‚¹URLï¼ˆãƒ—ãƒ­ã‚­ã‚·/ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ï¼‰**ã€**å±¥æ­´ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ/ã‚¤ãƒ³ãƒãƒ¼ãƒˆ**ã€æš—å·åŒ–

* **API**

  * ãƒ¢ãƒ‡ãƒ«ä¸€è¦§ï¼š`GET /v1/models`ï¼ˆé¸æŠâ†’ã‚­ãƒ£ãƒƒã‚·ãƒ¥â†’æ—¢å®šã‚’è¨˜æ†¶ï¼‰ã€‚([OpenAI Platform][4])
* **å®Ÿè£…**

  * **Base URL** ã‚’åˆ‡æ›¿å¯èƒ½ï¼ˆOpenAI äº’æ›ã®ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ã‚‚å¯ï¼‰ã€‚æ¥ç¶šãƒ†ã‚¹ãƒˆã¯ `/v1/models`ã€‚
  * å±¥æ­´ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ/ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆIndexedDBã®ä¼šè©±ãƒ‡ãƒ¼ã‚¿ã‚’ JSON ã«å¤‰æ›ï¼‰ã€‚
  * **æš—å·åŒ–**ï¼šAES-GCMï¼ˆWebCryptoï¼‰ã§å±¥æ­´æœ¬æ–‡ã‚’ä¿è­·ï¼ˆãƒ‘ã‚¹ãƒ•ãƒ¬ãƒ¼ã‚ºä¾å­˜ï¼‰ã€‚([MDNã‚¦ã‚§ãƒ–ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ][5])
* **æ¤œè¨¼**ï¼šBase URL åˆ‡æ›¿å¾Œã‚‚ãƒ¢ãƒ‡ãƒ«ä¸€è¦§ãƒ»é€ä¿¡ãŒæˆåŠŸã™ã‚‹ã“ã¨ã€‚

---

# 3) å±¥æ­´ã®ä¿å­˜ï¼†é€ä¿¡æœ€é©åŒ–ï¼ˆç›´è¿‘ï¼‹è¦ç´„ï¼‰

## ä¿å­˜ï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ã¿ï¼‰

* **IndexedDB** ã« `conversations`ï¼`messages`ï¼`attachments`ï¼`settings` ã‚’åˆ†é›¢ä¿å­˜ã€‚å¤§å®¹é‡ãƒ»éåŒæœŸãƒ»æ¤œç´¢é©æ€§ã®ãŸã‚ IndexedDB ã‚’æ¡ç”¨ã€‚([MDNã‚¦ã‚§ãƒ–ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ][2])
* **æš—å·åŒ–ã‚ªãƒ—ã‚·ãƒ§ãƒ³**ï¼šWebCrypto AES-GCM ã‚’åˆ©ç”¨ï¼ˆéµå°å‡ºã¯ PBKDF2 ç­‰ï¼‰ã€‚([MDNã‚¦ã‚§ãƒ–ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ][5])

## é€ä¿¡ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ï¼ˆç–‘ä¼¼æ‰‹é †ï¼‰

1. **ãƒˆãƒ¼ã‚¯ãƒ³äºˆç®—**ï¼ˆä¾‹ï¼š8kï¼‰ã‚’æ±ºã‚ã‚‹ã€‚
2. ç›´è¿‘ã‹ã‚‰**Kã‚¿ãƒ¼ãƒ³**ã‚’é€†é †ã§ç©ã¿ä¸Šã’ã€äºˆç®—ã‚’è¶…ãˆãã†ãªã‚‰åœæ­¢ã€‚
3. ãã‚Œã‚ˆã‚Šå¤ã„éƒ¨åˆ†ã¯**`generateObject` ã§çŸ­ç¸®è¦ç´„**ã‚’å®šæœŸç”Ÿæˆã—ã€**system ã‹ user ã® â€œsummaryâ€**ã¨ã—ã¦ 1 ãƒ–ãƒ­ãƒƒã‚¯ã ã‘é€ã‚‹ã€‚([AI SDK][9])
4. æ·»ä»˜ï¼ˆä»Šã ã‘ï¼‰ã‚„é¸æŠãƒ„ãƒ¼ãƒ«ï¼ˆfile_search / web_searchï¼‰ã¯ã“ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«åŒæ¢±ã€‚
5. **`streamText`** ã§æç”»ï¼ˆä¸­é–“ãƒ„ãƒ¼ãƒ«ã‚³ãƒ¼ãƒ«ã«ã‚‚è¿½å¾“ï¼‰ã€‚([AI SDK][1])

> ã“ã‚Œã«ã‚ˆã‚Šã€**AI-SDKã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã€Œå…¨å±¥æ­´é€ä¿¡ã€**ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’é¿ã‘ã€**å¿œç­”é€Ÿåº¦ã¨ã‚³ã‚¹ãƒˆ**ã‚’æœ€é©åŒ–ã—ã¾ã™ã€‚([AI SDK][10])

---

# 4) ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ï¼ˆIndexedDB æ¦‚ç•¥ï¼‰

* **conversations**ï¼š`{ id, title, createdAt, updatedAt, modelId, webSearch:boolean, vectorStoreIds:string[], encrypted:boolean }`
* **messages**ï¼š`{ id, conversationId, role, parts:[{type:'text'|'image'|'audio'|'data', value}], createdAt, isSummary?:boolean }`
* **attachments**ï¼š`{ id, conversationId, fileId?, vectorStoreId?, url?, ocr:boolean }`
* **settings**ï¼š`{ apiBaseUrl, org, project, headers[], historyPolicy, encryptionSalt, ... }`

MDN ã®ã‚¬ã‚¤ãƒ‰ã«æ²¿ã£ã¦ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚¹ãƒˆã‚¢ã¨ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’è¨­è¨ˆï¼ˆä¾‹ï¼š`messages` ã¯ `conversationId + createdAt` ã§æ¤œç´¢ï¼‰ã€‚([MDNã‚¦ã‚§ãƒ–ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ][11])

---

# 5) ä¸»è¦ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹åˆ¥ ACï¼ˆå—å…¥åŸºæº–ï¼‰

* **å±¥æ­´ã®å†ç¾**ï¼šå†èª­è¾¼å¾Œã‚‚ IndexedDB ã‹ã‚‰ä¼šè©±ãŒå¾©å…ƒã•ã‚Œã‚‹ã€‚([MDNã‚¦ã‚§ãƒ–ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ][2])
* **JSONã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ/ã‚¤ãƒ³ãƒãƒ¼ãƒˆ**ï¼šåŒä¸€PCã§ã‚¤ãƒ³ãƒãƒ¼ãƒˆâ†’ç”»é¢ã«ä¼šè©±ãŒå†è¡¨ç¤ºã€‚
* **RAG**ï¼š`file_search` æœ‰åŠ¹æ™‚ã« **`vector_store_ids`** ãŒé€ä¿¡ã•ã‚Œã€å¼•ç”¨ã«ç™»éŒ²ãƒ•ã‚¡ã‚¤ãƒ«ãŒç¾ã‚Œã‚‹ã€‚([OpenAI Platform][8])
* **Webæ¤œç´¢**ï¼šãƒˆã‚°ãƒ«ONæ™‚ã®ã¿ Web Search ãƒ„ãƒ¼ãƒ«ãŒ `tools` ã«å«ã¾ã‚Œã‚‹ã€‚([OpenAI Platform][12])
* **å–ã‚Šè¾¼ã¿**ï¼š`/v1/files` â†’ `/v1/vector_stores/{id}/file_batches` ã®ãƒãƒ¼ãƒªãƒ³ã‚°ã§ `completed/failed` ãŒUIã«åæ˜ ã€‚([OpenAI Platform][3])
* **ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°**ï¼šå›ç­”ã¯é€”ä¸­ã‹ã‚‰è¡¨ç¤ºã•ã‚Œã€æœ€çµ‚ã¾ã§â€æ­¢ã¾ã‚‰ãšâ€ã«é€£çµã•ã‚Œã‚‹ï¼ˆ`streamText`ï¼‰ã€‚([AI SDK][1])
* **è¤‡æ•°ã‚¹ãƒˆã‚¢**ï¼šé…åˆ—æŒ‡å®šã§å‹•ãï¼ä¸‡ä¸€ã‚¨ãƒ©ãƒ¼æ™‚ã¯**å…ˆé ­1ä»¶ã«ç¸®é€€**ã—ã¦é€šçŸ¥ã€‚([OpenAI ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£][7])

---

# 6) å®Ÿè£…ãƒ¡ãƒ¢ï¼ˆæŠœç²‹ï¼‰

* **ãƒãƒ£ãƒƒãƒˆæç”»**ï¼šAI-SDK `streamText` ã‚’ä¸­æ ¸ã«ã€**ä¸­é–“ãƒ„ãƒ¼ãƒ«ã‚³ãƒ¼ãƒ«ã‚„æ§‹é€ åŒ–ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°**ã¯åŒ SDK ã®ã‚¬ã‚¤ãƒ‰é€šã‚Šã€‚([AI SDK][1])
* **æ§‹é€ åŒ–è¦ç´„**ï¼š`generateObject` ã§ `{ bullets: string[] }` ãªã©å®šå‹ã‚¹ã‚­ãƒ¼ãƒã®è¦ç´„ã‚’ç”Ÿæˆã—ã€å¤ã„å±¥æ­´ã‚’åœ§ç¸®ã€‚([AI SDK][9])
* **ãƒ•ã‚¡ã‚¤ãƒ«ç™»éŒ²**ï¼šFiles APIï¼ˆ`purpose=assistants`ï¼‰â†’ Vector Store ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒƒãƒ â†’ é€²æ—APIã€‚([OpenAI Platform][3])
* **CORS/ç’°å¢ƒå·®**ï¼š/v1 ã‚’ç›´æ¥å©ã‘ãªã„å ´åˆã«å‚™ãˆ **Base URL ã‚’ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ã¸åˆ‡æ›¿**ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ãŠãã€‚
* **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**ï¼šæš—å·åŒ–ã¯ WebCrypto ã® **AES-GCM** ã‚’æ¡ç”¨ï¼ˆã‚µãƒ³ãƒ—ãƒ«å¤šæ•°ãƒ»ãƒ–ãƒ©ã‚¦ã‚¶å®Ÿè£…ãŒå®‰å®šï¼‰ã€‚([MDNã‚¦ã‚§ãƒ–ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ][5])


[1]: https://ai-sdk.dev/docs/reference/ai-sdk-core/stream-text?utm_source=chatgpt.com "AI SDK Core: streamText"
[2]: https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API?utm_source=chatgpt.com "IndexedDB API - Web - MDN - Mozilla"
[3]: https://platform.openai.com/docs/api-reference/files?utm_source=chatgpt.com "OpenAI's Files API reference"
[4]: https://platform.openai.com/docs/api-reference/responses?utm_source=chatgpt.com "Responses API reference"
[5]: https://developer.mozilla.org/en-US/docs/Web/API/Web_Crypto_API?utm_source=chatgpt.com "Web Crypto API - MDN"
[6]: https://platform.openai.com/docs/api-reference/vector-stores-file-batches?utm_source=chatgpt.com "Vector store file batches"
[7]: https://community.openai.com/t/bug-or-wrong-documentation-responses-api-vector-store-ids-array-limited-to-one/1165564?utm_source=chatgpt.com "Responses api vector_store_ids array limited to one - ..."
[8]: https://platform.openai.com/docs/guides/tools-file-search?utm_source=chatgpt.com "File search - OpenAI API"
[9]: https://ai-sdk.dev/docs/reference/ai-sdk-core/generate-object?utm_source=chatgpt.com "AI SDK Core: generateObject"
[10]: https://ai-sdk.dev/docs/ai-sdk-core/generating-text?utm_source=chatgpt.com "AI SDK Core: Generating Text"
[11]: https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API/Using_IndexedDB?utm_source=chatgpt.com "Using IndexedDB - Web APIs | MDN - Mozilla"
[12]: https://platform.openai.com/docs/guides/tools-web-search?utm_source=chatgpt.com "Web Search Tool"
